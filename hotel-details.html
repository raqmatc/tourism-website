<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>تفاصيل الفندق - Paygo Hotels</title>

  <!-- إضافة خط Cairo من Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&display=swap" rel="stylesheet">

  <!-- إضافة Font Awesome للأيقونات -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html, body {
    min-height: 100vh;
    font-family: 'Cairo', sans-serif;
    color: #262626;
    background-color: #f5f5f5;
    line-height: 1.4;
  }

  /* Header مطابق لـ Booking.com */
  .header {
    background: #003580;
    color: white;
    padding: 12px 0;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .header-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo {
    font-size: 1.8rem;
    font-weight: bold;
    color: white;
    text-decoration: none;
  }

  .back-btn {
    background: rgba(255,255,255,0.1);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }

  .back-btn:hover {
    background: rgba(255,255,255,0.2);
    color: white;
    text-decoration: none;
  }

  /* Main Content */
  .main-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
  }

  /* Hotel Header */
  .hotel-header {
    background: white;
    border-radius: 8px;
    padding: 24px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .hotel-title {
    font-size: 2rem;
    font-weight: bold;
    color: #262626;
    margin-bottom: 8px;
  }

  .hotel-location {
    color: #0071c2;
    font-size: 1rem;
    text-decoration: none;
    margin-bottom: 12px;
    display: inline-block;
  }

  .hotel-location:hover {
    text-decoration: underline;
  }

  .hotel-badges {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
    flex-wrap: wrap;
  }

  .badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: bold;
  }

  .badge-featured {
    background: #ff8c00;
    color: white;
  }

  .badge-deal {
    background: #00a651;
    color: white;
  }

  .badge-new {
    background: #0071c2;
    color: white;
  }

  .hotel-rating-section {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .rating-badge {
    background: #003580;
    color: white;
    padding: 8px 12px;
    border-radius: 4px;
    font-weight: bold;
    font-size: 1.1rem;
  }

  .rating-details {
    display: flex;
    flex-direction: column;
  }

  .rating-text {
    color: #003580;
    font-weight: 600;
    font-size: 1rem;
  }

  .review-count {
    color: #666;
    font-size: 0.9rem;
  }

  /* Photo Gallery */
  .photo-gallery {
    background: white;
    border-radius: 8px;
    padding: 24px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .gallery-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 16px;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    grid-template-rows: 200px 200px;
    gap: 8px;
    margin-bottom: 16px;
  }

  .gallery-main {
    grid-row: span 2;
  }

  .gallery-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.3s;
  }

  .gallery-image:hover {
    transform: scale(1.02);
  }

  .view-all-photos {
    background: #0071c2;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    text-decoration: none;
    display: inline-block;
  }

  .view-all-photos:hover {
    background: #005999;
    color: white;
    text-decoration: none;
  }

  /* Content Grid */
  .content-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
  }

  /* Hotel Details */
  .hotel-details {
    background: white;
    border-radius: 8px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    height: fit-content;
  }

  .section-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 16px;
    color: #262626;
  }

  .hotel-description {
    color: #666;
    line-height: 1.6;
    margin-bottom: 24px;
  }

  .amenities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
  }

  .amenity-category {
    border: 1px solid #e7e7e7;
    border-radius: 8px;
    padding: 16px;
  }

  .amenity-title {
    font-weight: bold;
    margin-bottom: 8px;
    color: #262626;
  }

  .amenity-list {
    list-style: none;
  }

  .amenity-list li {
    color: #666;
    margin-bottom: 4px;
    font-size: 0.9rem;
  }

  .amenity-list li:before {
    content: "✓";
    color: #00a651;
    font-weight: bold;
    margin-left: 8px;
  }

  /* Reviews Section */
  .reviews-section {
    margin-top: 24px;
    padding-top: 24px;
    border-top: 1px solid #e7e7e7;
  }

  .review-card {
    border: 1px solid #e7e7e7;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
  }

  .review-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }

  .reviewer-name {
    font-weight: bold;
    color: #262626;
  }

  .review-rating {
    background: #003580;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.9rem;
    font-weight: bold;
  }

  .review-text {
    color: #666;
    line-height: 1.5;
  }

  /* Booking Panel */
  .booking-panel {
    background: white;
    border-radius: 8px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    position: sticky;
    top: 100px;
    height: fit-content;
  }

  .price-display {
    text-align: center;
    margin-bottom: 20px;
    padding: 16px;
    background: #f8f9fa;
    border-radius: 8px;
  }

  .price-amount {
    font-size: 2.5rem;
    font-weight: bold;
    color: #262626;
    margin-bottom: 4px;
  }

  .price-period {
    color: #666;
    font-size: 0.9rem;
  }

  .booking-form {
    margin-bottom: 20px;
  }

  .form-group {
    margin-bottom: 16px;
  }

  .form-label {
    display: block;
    font-weight: bold;
    margin-bottom: 4px;
    color: #262626;
  }

  .form-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
  }

  .form-input:focus {
    outline: none;
    border-color: #0071c2;
  }

  .date-inputs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }

  .guests-summary {
    background: #f8f9fa;
    padding: 12px;
    border-radius: 4px;
    margin-bottom: 16px;
    text-align: center;
    color: #666;
  }

  .price-breakdown {
    margin-bottom: 20px;
    padding: 16px;
    background: #f8f9fa;
    border-radius: 8px;
  }

  .price-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    color: #666;
  }

  .price-row.total {
    font-weight: bold;
    color: #262626;
    border-top: 1px solid #ddd;
    padding-top: 8px;
    margin-top: 12px;
  }

  .book-now-btn {
    width: 100%;
    background: #0071c2;
    color: white;
    border: none;
    padding: 16px;
    border-radius: 4px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
    margin-bottom: 12px;
  }

  .book-now-btn:hover {
    background: #005999;
  }

  .booking-sites {
    margin-top: 16px;
  }

  .site-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    border: 1px solid #e7e7e7;
    border-radius: 4px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: background 0.3s;
  }

  .site-option:hover {
    background: #f8f9fa;
  }

  .site-name {
    font-weight: bold;
    color: #262626;
  }

  .site-price {
    color: #0071c2;
    font-weight: bold;
  }

  .free-cancellation {
    color: #00a651;
    font-size: 0.9rem;
    text-align: center;
    margin-top: 12px;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .main-content {
      padding: 10px;
    }
    
    .content-grid {
      grid-template-columns: 1fr;
    }
    
    .booking-panel {
      position: static;
      order: -1;
    }
    
    .gallery-grid {
      grid-template-columns: 1fr;
      grid-template-rows: repeat(5, 200px);
    }
    
    .gallery-main {
      grid-row: span 1;
    }
    
    .amenities-grid {
      grid-template-columns: 1fr;
    }
    
    .date-inputs {
      grid-template-columns: 1fr;
    }
  }

  /* Modal للصور */
  .modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.9);
  }

  .modal-content {
    position: relative;
    margin: auto;
    padding: 20px;
    width: 90%;
    max-width: 800px;
    top: 50%;
    transform: translateY(-50%);
  }

  .modal-image {
    width: 100%;
    height: auto;
    border-radius: 8px;
  }

  .close-modal {
    position: absolute;
    top: 15px;
    right: 35px;
    color: white;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
  }

  .close-modal:hover {
    opacity: 0.7;
  }
  </style>
</head>
<body>
  <!-- Header -->
  <div class="header">
    <div class="header-container">
      <a href="#" class="logo">Paygo.com</a>
      <a href="#" class="back-btn" onclick="history.back()">
        <i class="fas fa-arrow-right"></i>
        العودة للنتائج
      </a>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Hotel Header -->
    <div class="hotel-header">
      <h1 class="hotel-title" id="hotelTitle">جاري التحميل...</h1>
      <a href="#" class="hotel-location" id="hotelLocation">جاري التحميل...</a>
      
      <div class="hotel-badges" id="hotelBadges">
        <!-- سيتم ملؤها بـ JavaScript -->
      </div>
      
      <div class="hotel-rating-section">
        <span class="rating-badge" id="hotelRating">0.0</span>
        <div class="rating-details">
          <span class="rating-text" id="ratingText">جاري التحميل...</span>
          <span class="review-count" id="reviewCount">0 تقييم</span>
        </div>
      </div>
    </div>

    <!-- Photo Gallery -->
    <div class="photo-gallery">
      <h2 class="gallery-title">صور الفندق</h2>
      <div class="gallery-grid" id="photoGallery">
        <!-- سيتم ملؤها بـ JavaScript -->
      </div>
      <a href="#" class="view-all-photos" onclick="openPhotoModal()">عرض جميع الصور</a>
    </div>

    <!-- Content Grid -->
    <div class="content-grid">
      <!-- Hotel Details -->
      <div class="hotel-details">
        <h2 class="section-title">وصف الفندق</h2>
        <p class="hotel-description" id="hotelDescription">
          جاري تحميل وصف الفندق...
        </p>

        <h3 class="section-title">المرافق والخدمات</h3>
        <div class="amenities-grid" id="amenitiesGrid">
          <!-- سيتم ملؤها بـ JavaScript -->
        </div>

        <!-- Reviews Section -->
        <div class="reviews-section">
          <h3 class="section-title">تقييمات النزلاء</h3>
          <div id="reviewsContainer">
            <!-- سيتم ملؤها بـ JavaScript -->
          </div>
        </div>
      </div>

      <!-- Booking Panel -->
      <div class="booking-panel">
        <div class="price-display">
          <div class="price-amount" id="displayPrice">$0</div>
          <div class="price-period">لليلة الواحدة</div>
        </div>

        <div class="booking-form">
          <div class="form-group">
            <label class="form-label">تواريخ الإقامة</label>
            <div class="date-inputs">
              <input type="date" class="form-input" id="checkinDate">
              <input type="date" class="form-input" id="checkoutDate">
            </div>
          </div>

          <div class="guests-summary" id="guestsSummary">
            2 بالغ · 0 طفل · 1 غرفة
          </div>
        </div>

        <div class="price-breakdown">
          <div class="price-row">
            <span>السعر الأساسي</span>
            <span id="basePrice">$0</span>
          </div>
          <div class="price-row">
            <span>الضرائب والرسوم</span>
            <span id="taxesPrice">$0</span>
          </div>
          <div class="price-row total">
            <span>المجموع</span>
            <span id="totalPrice">$0</span>
          </div>
        </div>

        <button class="book-now-btn" onclick="bookNow()">
          احجز الآن
        </button>

        <div class="free-cancellation">
          ✓ إلغاء مجاني حتى 24 ساعة قبل الوصول
        </div>

        <div class="booking-sites">
          <h4 style="margin-bottom: 12px; color: #262626;">قارن الأسعار:</h4>
          
          <div class="site-option" onclick="bookViaBooking()">
            <span class="site-name">Booking.com</span>
            <span class="site-price" id="bookingPrice">$0</span>
          </div>
          
          <div class="site-option" onclick="bookViaExpedia()">
            <span class="site-name">Expedia</span>
            <span class="site-price" id="expediaPrice">$0</span>
          </div>
          
          <div class="site-option" onclick="bookViaHotels()">
            <span class="site-name">Hotels.com</span>
            <span class="site-price" id="hotelsPrice">$0</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal للصور -->
  <div id="photoModal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closePhotoModal()">&times;</span>
      <img id="modalImage" class="modal-image" src="" alt="">
    </div>
  </div>

  <script>
    // بيانات تفصيلية للفنادق
    const hotelDetailsData = {
      'secrets-sapphire-jlt': {
        name: 'Secrets Of The Sapphire By Lagom Jumeirah Lake Towers',
        location: 'أبراج بحيرة الجميرا، دبي (شارع الشيخ زايد)',
        rating: 7.0,
        ratingText: 'جيد',
        reviews: 3,
        price: 91,
        originalPrice: 147,
        currency: 'دولار',
        badges: ['مميز', 'عرض محدود', 'جديد على Paygo.com'],
        description: 'يقع Secrets Of The Sapphire في قلب أبراج بحيرة الجميرا، ويوفر إطلالات خلابة على المدينة والبحيرة. تتميز الشقق الفاخرة بتصميم عصري وأثاث راقي، مع مطبخ مجهز بالكامل وغرفة معيشة واسعة. يقع الفندق على بُعد دقائق من مراكز التسوق الرئيسية ومحطة مترو الأنفاق.',
        photos: [
          'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop',
          'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=400&h=300&fit=crop',
          'https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=400&h=300&fit=crop',
          'https://images.unsplash.com/photo-1578683010236-d716f9a3f461?w=400&h=300&fit=crop',
          'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=400&h=300&fit=crop'
        ],
        amenities: {
          'المرافق العامة': ['واي فاي مجاني', 'مكتب استقبال 24 ساعة', 'خدمة الغرف', 'خدمة النظافة اليومية'],
          'المرافق الترفيهية': ['مسبح خارجي', 'صالة ألعاب رياضية', 'سبا ومركز عافية', 'تراس على السطح'],
          'خدمات الأعمال': ['مركز أعمال', 'قاعات اجتماعات', 'خدمة الطباعة', 'خدمة الفاكس'],
          'النقل والمواصلات': ['خدمة نقل مجانية', 'موقف سيارات مجاني', 'قريب من المترو', 'خدمة تأجير السيارات']
        },
        reviews: [
          {
            name: 'أحمد محمد',
            rating: 8.5,
            text: 'فندق رائع مع إطلالة خلابة على البحيرة. الغرف واسعة ونظيفة، والموقع ممتاز قريب من كل شيء. الموظفون ودودون ومتعاونون جداً.'
          },
          {
            name: 'سارة أحمد',
            rating: 7.0,
            text: 'إقامة جيدة بشكل عام. المرافق حديثة والمسبح جميل. الوحيد العيب أن الواي فاي كان بطيئاً أحياناً.'
          },
          {
            name: 'محمد علي',
            rating: 6.5,
            text: 'موقع جيد وقريب من المترو. الشقة مجهزة بكل ما تحتاجه. السعر معقول مقارنة بالمنطقة.'
          }
        ]
      },
      'flora-inn-airport': {
        name: 'Flora Inn Hotel Dubai Airport',
        location: 'جرهود، دبي',
        rating: 8.2,
        ratingText: 'جيد جداً',
        reviews: 12374,
        price: 45,
        originalPrice: 47,
        currency: 'دولار',
        badges: ['قريب من المطار'],
        description: 'يقع فندق Flora Inn في منطقة جرهود الهادئة، على بُعد دقائق من مطار دبي الدولي. يوفر الفندق خدمة نقل مجانية من وإلى المطار، مما يجعله الخيار المثالي للمسافرين. تتميز الغرف بتصميم عملي ومريح مع جميع وسائل الراحة الحديثة.',
        photos: [
          'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=800&h=600&fit=crop',
          'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop',
          'https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=400&h=300&fit=crop',
          'https://images.unsplash.com/photo-1578683010236-d716f9a3f461?w=400&h=300&fit=crop',
          'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=400&h=300&fit=crop'
        ],
        amenities: {
          'المرافق العامة': ['واي فاي مجاني', 'مكتب استقبال 24 ساعة', 'خدمة الغرف', 'خدمة الكونسيرج'],
          'النقل والمواصلات': ['نقل مجاني للمطار', 'موقف سيارات مجاني', 'قريب من المترو', 'خدمة تاكسي'],
          'المرافق الترفيهية': ['مسبح خارجي', 'صالة ألعاب رياضية', 'مطعم', 'كافيه'],
          'خدمات إضافية': ['خدمة غسيل الملابس', 'خدمة الكي', 'صراف آلي', 'متجر هدايا']
        },
        reviews: [
          {
            name: 'فاطمة الزهراء',
            rating: 8.5,
            text: 'فندق ممتاز للمسافرين عبر المطار. النقل المجاني سريع ومنتظم. الغرف نظيفة ومريحة والموظفون محترفون.'
          },
          {
            name: 'عبدالله السعيد',
            rating: 8.0,
            text: 'موقع مثالي قريب من المطار. الخدمة ممتازة والأسعار معقولة. المطعم يقدم طعاماً لذيذاً.'
          },
          {
            name: 'نورا أحمد',
            rating: 8.3,
            text: 'إقامة مريحة وهادئة رغم القرب من المطار. الغرف عازلة للصوت بشكل جيد. أنصح به بشدة.'
          }
        ]
      }
    };

    // استخراج معاملات URL
    function getUrlParams() {
      const urlParams = new URLSearchParams(window.location.search);
      return {
        hotelId: urlParams.get('hotelId'),
        hotelName: decodeURIComponent(urlParams.get('hotelName') || ''),
        checkin: urlParams.get('checkin'),
        checkout: urlParams.get('checkout'),
        adults: urlParams.get('adults') || '2'
      };
    }

    // تحميل تفاصيل الفندق
    function loadHotelDetails() {
      const params = getUrlParams();
      const hotel = hotelDetailsData[params.hotelId];
      
      if (!hotel) {
        document.getElementById('hotelTitle').textContent = 'فندق غير موجود';
        return;
      }

      // تحديث معلومات الفندق الأساسية
      document.getElementById('hotelTitle').textContent = hotel.name;
      document.getElementById('hotelLocation').textContent = hotel.location;
      document.getElementById('hotelRating').textContent = hotel.rating;
      document.getElementById('ratingText').textContent = hotel.ratingText;
      document.getElementById('reviewCount').textContent = `${hotel.reviews.toLocaleString()} تقييم`;
      document.getElementById('hotelDescription').textContent = hotel.description;

      // تحديث الشارات
      const badgesContainer = document.getElementById('hotelBadges');
      badgesContainer.innerHTML = hotel.badges.map(badge => {
        let badgeClass = 'badge-featured';
        if (badge.includes('عرض')) badgeClass = 'badge-deal';
        if (badge.includes('جديد')) badgeClass = 'badge-new';
        return `<span class="badge ${badgeClass}">${badge}</span>`;
      }).join('');

      // تحديث معرض الصور
      const galleryContainer = document.getElementById('photoGallery');
      galleryContainer.innerHTML = hotel.photos.map((photo, index) => {
        const className = index === 0 ? 'gallery-image gallery-main' : 'gallery-image';
        return `<img src="${photo}" alt="صورة الفندق ${index + 1}" class="${className}" onclick="openPhotoModal('${photo}')">`;
      }).join('');

      // تحديث المرافق
      const amenitiesContainer = document.getElementById('amenitiesGrid');
      amenitiesContainer.innerHTML = Object.entries(hotel.amenities).map(([category, items]) => `
        <div class="amenity-category">
          <div class="amenity-title">${category}</div>
          <ul class="amenity-list">
            ${items.map(item => `<li>${item}</li>`).join('')}
          </ul>
        </div>
      `).join('');

      // تحديث التقييمات
      const reviewsContainer = document.getElementById('reviewsContainer');
      reviewsContainer.innerHTML = hotel.reviews.map(review => `
        <div class="review-card">
          <div class="review-header">
            <span class="reviewer-name">${review.name}</span>
            <span class="review-rating">${review.rating}</span>
          </div>
          <p class="review-text">${review.text}</p>
        </div>
      `).join('');

      // تحديث الأسعار
      updatePricing(hotel);
      
      // تحديث التواريخ
      updateDates(params);
    }

    // تحديث الأسعار
    function updatePricing(hotel) {
      const basePrice = hotel.price;
      const taxes = Math.round(basePrice * 0.15); // 15% ضرائب ورسوم
      const total = basePrice + taxes;

      document.getElementById('displayPrice').textContent = `$${basePrice}`;
      document.getElementById('basePrice').textContent = `$${basePrice}`;
      document.getElementById('taxesPrice').textContent = `$${taxes}`;
      document.getElementById('totalPrice').textContent = `$${total}`;

      // أسعار المواقع المختلفة (محاكاة)
      document.getElementById('bookingPrice').textContent = `$${basePrice}`;
      document.getElementById('expediaPrice').textContent = `$${basePrice + 5}`;
      document.getElementById('hotelsPrice').textContent = `$${basePrice + 3}`;
    }

    // تحديث التواريخ
    function updateDates(params) {
      if (params.checkin) {
        document.getElementById('checkinDate').value = params.checkin;
      }
      if (params.checkout) {
        document.getElementById('checkoutDate').value = params.checkout;
      }
      
      document.getElementById('guestsSummary').textContent = `${params.adults} بالغ · 0 طفل · 1 غرفة`;
    }

    // فتح معرض الصور
    function openPhotoModal(imageSrc = null) {
      const modal = document.getElementById('photoModal');
      const modalImage = document.getElementById('modalImage');
      
      if (imageSrc) {
        modalImage.src = imageSrc;
      } else {
        // عرض الصورة الأولى إذا لم يتم تحديد صورة
        const firstImage = document.querySelector('.gallery-image');
        if (firstImage) {
          modalImage.src = firstImage.src;
        }
      }
      
      modal.style.display = 'block';
    }

    // إغلاق معرض الصور
    function closePhotoModal() {
      document.getElementById('photoModal').style.display = 'none';
    }

    // الحجز الآن
    function bookNow() {
      const params = getUrlParams();
      const hotel = hotelDetailsData[params.hotelId];
      
      if (!hotel) {
        alert('حدث خطأ في تحميل بيانات الفندق');
        return;
      }

      const checkin = document.getElementById('checkinDate').value;
      const checkout = document.getElementById('checkoutDate').value;
      
      if (!checkin || !checkout) {
        alert('يرجى تحديد تواريخ الوصول والمغادرة');
        return;
      }
      
      if (new Date(checkin) >= new Date(checkout)) {
        alert('تاريخ المغادرة يجب أن يكون بعد تاريخ الوصول');
        return;
      }

      // محاكاة عملية الحجز
      const bookingDetails = {
        hotel: hotel.name,
        checkin: checkin,
        checkout: checkout,
        guests: document.getElementById('guestsSummary').textContent,
        total: document.getElementById('totalPrice').textContent
      };

      alert(`تم تأكيد الحجز!\n\nتفاصيل الحجز:\nالفندق: ${bookingDetails.hotel}\nالوصول: ${bookingDetails.checkin}\nالمغادرة: ${bookingDetails.checkout}\nالضيوف: ${bookingDetails.guests}\nالمجموع: ${bookingDetails.total}\n\nسيتم إرسال تأكيد الحجز عبر البريد الإلكتروني.`);
    }

    // الحجز عبر Booking.com
    function bookViaBooking() {
      const params = getUrlParams();
      const hotel = hotelDetailsData[params.hotelId];
      
      // في التطبيق الحقيقي، سيتم توجيه المستخدم إلى Booking.com
      window.open(`https://www.booking.com/searchresults.html?ss=${encodeURIComponent(hotel.name)}`, '_blank');
    }

    // الحجز عبر Expedia
    function bookViaExpedia() {
      const params = getUrlParams();
      const hotel = hotelDetailsData[params.hotelId];
      
      // في التطبيق الحقيقي، سيتم توجيه المستخدم إلى Expedia
      window.open(`https://www.expedia.com/Hotel-Search?destination=${encodeURIComponent(hotel.name)}`, '_blank');
    }

    // الحجز عبر Hotels.com
    function bookViaHotels() {
      const params = getUrlParams();
      const hotel = hotelDetailsData[params.hotelId];
      
      // في التطبيق الحقيقي، سيتم توجيه المستخدم إلى Hotels.com
      window.open(`https://www.hotels.com/search.do?q-destination=${encodeURIComponent(hotel.name)}`, '_blank');
    }

    // إغلاق المودال عند النقر خارجها
    window.onclick = function(event) {
      const modal = document.getElementById('photoModal');
      if (event.target === modal) {
        closePhotoModal();
      }
    }

    // تشغيل التطبيق عند تحميل الصفحة
    document.addEventListener('DOMContentLoaded', function() {
      loadHotelDetails();
    });
  </script>
</body>
</html>
