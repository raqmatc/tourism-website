<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paygo.com - حجز الفنادق مع Amadeus</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .logo {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .amadeus-badge {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            margin-top: 10px;
        }

        .amadeus-badge i {
            margin-left: 8px;
        }

        .search-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .search-title {
            font-size: 2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 30px;
            text-align: center;
        }

        .search-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            font-size: 1rem;
            font-family: 'Cairo', sans-serif;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .city-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .city-suggestion {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s ease;
        }

        .city-suggestion:hover {
            background: #f8f9ff;
        }

        .city-suggestion:last-child {
            border-bottom: none;
        }

        .search-btn {
            grid-column: 1 / -1;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .search-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .feature-desc {
            color: #666;
            line-height: 1.6;
        }

        .stats {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            text-align: center;
        }

        .stat-item {
            padding: 20px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-weight: 600;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading i {
            font-size: 2rem;
            color: #667eea;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background: #ff6b6b;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .success-message {
            background: #51cf66;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .footer {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            color: #666;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #764ba2;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .search-form {
                grid-template-columns: 1fr;
            }

            .logo {
                font-size: 2rem;
            }

            .search-title {
                font-size: 1.5rem;
            }

            .footer-links {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <i class="fas fa-plane"></i> Paygo.com
            </div>
            <div class="subtitle">منصة حجز الفنادق الرائدة في الشرق الأوسط</div>
            <div class="amadeus-badge">
                <i class="fas fa-star"></i>
                مدعوم بتقنية Amadeus العالمية
            </div>
        </div>

        <!-- Search Section -->
        <div class="search-section">
            <h2 class="search-title">
                <i class="fas fa-search"></i>
                ابحث عن فندقك المثالي
            </h2>
            
            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>
            
            <form class="search-form" id="searchForm">
                <div class="form-group">
                    <label for="destination">
                        <i class="fas fa-map-marker-alt"></i>
                        الوجهة
                    </label>
                    <input type="text" id="destination" name="destination" 
                           placeholder="أدخل اسم المدينة..." 
                           autocomplete="off" required>
                    <div class="city-suggestions" id="citySuggestions"></div>
                </div>

                <div class="form-group">
                    <label for="checkin">
                        <i class="fas fa-calendar-alt"></i>
                        تاريخ الوصول
                    </label>
                    <input type="date" id="checkin" name="checkin" required>
                </div>

                <div class="form-group">
                    <label for="checkout">
                        <i class="fas fa-calendar-alt"></i>
                        تاريخ المغادرة
                    </label>
                    <input type="date" id="checkout" name="checkout" required>
                </div>

                <div class="form-group">
                    <label for="adults">
                        <i class="fas fa-users"></i>
                        عدد البالغين
                    </label>
                    <select id="adults" name="adults" required>
                        <option value="1">1 بالغ</option>
                        <option value="2">2 بالغين</option>
                        <option value="3">3 بالغين</option>
                        <option value="4">4 بالغين</option>
                        <option value="5">5 بالغين</option>
                        <option value="6">6 بالغين</option>
                    </select>
                </div>

                <button type="submit" class="search-btn" id="searchBtn">
                    <i class="fas fa-search"></i>
                    ابحث عن الفنادق
                </button>
            </form>

            <div class="loading" id="loading">
                <i class="fas fa-spinner"></i>
                <p>جاري البحث عن أفضل العروض...</p>
            </div>
        </div>

        <!-- Features -->
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-globe"></i>
                </div>
                <div class="feature-title">شبكة عالمية واسعة</div>
                <div class="feature-desc">
                    أكثر من 150,000 فندق حول العالم مع أفضل الأسعار المضمونة
                </div>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="feature-title">حجز آمن ومضمون</div>
                <div class="feature-desc">
                    تقنية Amadeus المتقدمة تضمن لك حجز آمن وموثوق
                </div>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <div class="feature-title">دعم 24/7</div>
                <div class="feature-desc">
                    فريق دعم متخصص متاح على مدار الساعة لمساعدتك
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="stats">
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">150K+</div>
                    <div class="stat-label">فندق حول العالم</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">200+</div>
                    <div class="stat-label">دولة ومنطقة</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">1M+</div>
                    <div class="stat-label">عميل راضٍ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">دعم فني</div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-links">
                <a href="#about">عن Paygo</a>
                <a href="#contact">اتصل بنا</a>
                <a href="#privacy">سياسة الخصوصية</a>
                <a href="#terms">الشروط والأحكام</a>
                <a href="#help">المساعدة</a>
            </div>
            <p>&copy; 2025 Paygo.com - جميع الحقوق محفوظة | مدعوم بتقنية Amadeus</p>
        </div>
    </div>

    <script>
        // قاعدة بيانات المدن مع أكواد Amadeus
        const cities = [
            { name: 'دبي', code: 'DXB', country: 'الإمارات العربية المتحدة' },
            { name: 'الرياض', code: 'RUH', country: 'المملكة العربية السعودية' },
            { name: 'القاهرة', code: 'CAI', country: 'مصر' },
            { name: 'الدوحة', code: 'DOH', country: 'قطر' },
            { name: 'الكويت', code: 'KWI', country: 'الكويت' },
            { name: 'بيروت', code: 'BEY', country: 'لبنان' },
            { name: 'عمان', code: 'AMM', country: 'الأردن' },
            { name: 'مسقط', code: 'MCT', country: 'عمان' },
            { name: 'المنامة', code: 'BAH', country: 'البحرين' },
            { name: 'الدار البيضاء', code: 'CMN', country: 'المغرب' },
            { name: 'تونس', code: 'TUN', country: 'تونس' },
            { name: 'الجزائر', code: 'ALG', country: 'الجزائر' },
            { name: 'بغداد', code: 'BGW', country: 'العراق' },
            { name: 'دمشق', code: 'DAM', country: 'سوريا' },
            { name: 'صنعاء', code: 'SAH', country: 'اليمن' },
            { name: 'لندن', code: 'LON', country: 'المملكة المتحدة' },
            { name: 'باريس', code: 'PAR', country: 'فرنسا' },
            { name: 'نيويورك', code: 'NYC', country: 'الولايات المتحدة' },
            { name: 'طوكيو', code: 'TYO', country: 'اليابان' },
            { name: 'سنغافورة', code: 'SIN', country: 'سنغافورة' },
            { name: 'هونغ كونغ', code: 'HKG', country: 'هونغ كونغ' },
            { name: 'سيدني', code: 'SYD', country: 'أستراليا' },
            { name: 'تورونتو', code: 'YTO', country: 'كندا' },
            { name: 'فرانكفورت', code: 'FRA', country: 'ألمانيا' },
            { name: 'أمستردام', code: 'AMS', country: 'هولندا' }
        ];

        // إعداد التواريخ الافتراضية
        function setupDefaultDates() {
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const dayAfter = new Date(today);
            dayAfter.setDate(dayAfter.getDate() + 2);

            document.getElementById('checkin').value = tomorrow.toISOString().split('T')[0];
            document.getElementById('checkout').value = dayAfter.toISOString().split('T')[0];
        }

        // اقتراحات المدن
        function setupCitySuggestions() {
            const destinationInput = document.getElementById('destination');
            const suggestionsDiv = document.getElementById('citySuggestions');

            destinationInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                
                if (query.length < 1) {
                    suggestionsDiv.style.display = 'none';
                    return;
                }

                const filteredCities = cities.filter(city => 
                    city.name.toLowerCase().includes(query) ||
                    city.country.toLowerCase().includes(query)
                );

                if (filteredCities.length > 0) {
                    suggestionsDiv.innerHTML = filteredCities.map(city => 
                        `<div class="city-suggestion" data-code="${city.code}" data-name="${city.name}">
                            <strong>${city.name}</strong> - ${city.country}
                        </div>`
                    ).join('');
                    suggestionsDiv.style.display = 'block';
                } else {
                    suggestionsDiv.style.display = 'none';
                }
            });

            // اختيار المدينة
            suggestionsDiv.addEventListener('click', function(e) {
                const suggestion = e.target.closest('.city-suggestion');
                if (suggestion) {
                    const cityName = suggestion.dataset.name;
                    const cityCode = suggestion.dataset.code;
                    
                    destinationInput.value = cityName;
                    destinationInput.dataset.cityCode = cityCode;
                    suggestionsDiv.style.display = 'none';
                }
            });

            // إخفاء الاقتراحات عند النقر خارجها
            document.addEventListener('click', function(e) {
                if (!destinationInput.contains(e.target) && !suggestionsDiv.contains(e.target)) {
                    suggestionsDiv.style.display = 'none';
                }
            });
        }

        // معالج البحث
        function setupSearchForm() {
            const form = document.getElementById('searchForm');
            const searchBtn = document.getElementById('searchBtn');
            const loading = document.getElementById('loading');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');

            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // إخفاء الرسائل السابقة
                errorMessage.style.display = 'none';
                successMessage.style.display = 'none';

                // الحصول على البيانات
                const destination = document.getElementById('destination');
                const checkin = document.getElementById('checkin').value;
                const checkout = document.getElementById('checkout').value;
                const adults = document.getElementById('adults').value;

                // التحقق من صحة البيانات
                if (!destination.dataset.cityCode) {
                    showError('يرجى اختيار مدينة من القائمة المقترحة');
                    return;
                }

                if (new Date(checkin) >= new Date(checkout)) {
                    showError('تاريخ المغادرة يجب أن يكون بعد تاريخ الوصول');
                    return;
                }

                // بدء البحث
                searchBtn.disabled = true;
                loading.style.display = 'block';

                try {
                    // محاكاة استدعاء API
                    await simulateAmadeusSearch({
                        cityCode: destination.dataset.cityCode,
                        cityName: destination.value,
                        checkIn: checkin,
                        checkOut: checkout,
                        adults: adults
                    });

                    showSuccess(`تم العثور على عروض رائعة في ${destination.value}! سيتم توجيهك إلى صفحة النتائج...`);
                    
                    // التوجه إلى صفحة النتائج بعد ثانيتين
                    setTimeout(() => {
                        // تأكد من وجود الملف قبل التوجه إليه
                        const resultsUrl = `FILE_02_amadeus_results.html?city=${destination.dataset.cityCode}&checkin=${checkin}&checkout=${checkout}&adults=${adults}&cityName=${encodeURIComponent(destination.value)}`;
                        
                        // التحقق من وجود الملف
                        fetch('FILE_02_amadeus_results.html')
                            .then(response => {
                                if (response.ok) {
                                    window.location.href = resultsUrl;
                                } else {
                                    throw new Error('Results page not found');
                                }
                            })
                            .catch(error => {
                                console.error('Error:', error);
                                showError('عذراً، صفحة النتائج غير متاحة حالياً. يرجى المحاولة لاحقاً.');
                                searchBtn.disabled = false;
                                loading.style.display = 'none';
                            });
                    }, 2000);

                } catch (error) {
                    showError('حدث خطأ أثناء البحث. يرجى المحاولة مرة أخرى.');
                    console.error('Search error:', error);
                    searchBtn.disabled = false;
                    loading.style.display = 'none';
                }
            });
        }

        // محاكاة استدعاء Amadeus API
        async function simulateAmadeusSearch(searchData) {
            // محاكاة تأخير الشبكة
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // محاكاة استجابة API
            console.log('Amadeus API Search:', searchData);
            
            // في التطبيق الحقيقي، ستكون هذه استدعاءات API حقيقية
            return {
                success: true,
                data: {
                    hotels: [],
                    totalResults: Math.floor(Math.random() * 100) + 20
                }
            };
        }

        // عرض رسالة خطأ
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // عرض رسالة نجاح
        function showSuccess(message) {
            const successDiv = document.getElementById('successMessage');
            successDiv.textContent = message;
            successDiv.style.display = 'block';
            successDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            setupDefaultDates();
            setupCitySuggestions();
            setupSearchForm();
            
            console.log('Paygo Amadeus Integration loaded successfully!');
            console.log('Cities database:', cities.length, 'cities available');
        });

        // تتبع الأحداث (Analytics)
        function trackEvent(eventName, eventData) {
            console.log('Analytics Event:', eventName, eventData);
            // في التطبيق الحقيقي، ستكون هذه استدعاءات لخدمة التحليلات
        }

        // تتبع البحث
        document.getElementById('searchForm').addEventListener('submit', function() {
            trackEvent('hotel_search', {
                destination: document.getElementById('destination').value,
                checkin: document.getElementById('checkin').value,
                checkout: document.getElementById('checkout').value,
                adults: document.getElementById('adults').value
            });
        });
    </script>
</body>
</html>

