<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تفاصيل الفندق - Paygo.com مع Amadeus</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .amadeus-badge {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .amadeus-badge i {
            margin-left: 8px;
        }

        .back-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .back-btn i {
            margin-left: 8px;
        }

        .hotel-main {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .hotel-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .hotel-gallery {
            margin-bottom: 30px;
        }

        .swiper {
            width: 100%;
            height: 400px;
            border-radius: 15px;
            overflow: hidden;
        }

        .swiper-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .swiper-button-next,
        .swiper-button-prev {
            color: #667eea;
            background: rgba(255, 255, 255, 0.9);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-top: -20px;
        }

        .swiper-button-next:after,
        .swiper-button-prev:after {
            font-size: 16px;
        }

        .swiper-pagination-bullet {
            background: #667eea;
        }

        .hotel-header {
            margin-bottom: 25px;
        }

        .hotel-name {
            font-size: 2.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .hotel-location {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .hotel-location i {
            margin-left: 8px;
            color: #667eea;
        }

        .hotel-rating {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .stars {
            color: #ffd700;
            font-size: 1.5rem;
        }

        .rating-score {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            border-radius: 15px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .rating-text {
            color: #666;
        }

        .amadeus-verified {
            background: linear-gradient(45deg, #51cf66, #40c057);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .amadeus-verified i {
            margin-left: 8px;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid #f0f0f0;
            margin-bottom: 25px;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .amenities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .amenity-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: #f8f9ff;
            border-radius: 10px;
        }

        .amenity-item i {
            color: #667eea;
            margin-left: 10px;
            width: 20px;
        }

        .room-types {
            display: grid;
            gap: 20px;
        }

        .room-type {
            border: 2px solid #f0f0f0;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .room-type:hover {
            border-color: #667eea;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.1);
        }

        .room-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .room-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .room-feature {
            background: #e3f2fd;
            color: #1976d2;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .room-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }

        .reviews-summary {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .reviews-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .reviews-score {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
        }

        .reviews-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .review-category {
            text-align: center;
        }

        .review-category-name {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .review-category-score {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
        }

        .booking-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .booking-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .price-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 5px;
        }

        .price-period {
            color: #666;
            font-size: 1rem;
        }

        .booking-details {
            margin-bottom: 25px;
        }

        .booking-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .booking-row:last-child {
            border-bottom: none;
        }

        .booking-label {
            color: #666;
            display: flex;
            align-items: center;
        }

        .booking-label i {
            margin-left: 8px;
            color: #667eea;
        }

        .booking-value {
            font-weight: 600;
            color: #333;
        }

        .price-breakdown {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .price-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .price-row.total {
            font-weight: 700;
            font-size: 1.2rem;
            color: #333;
            border-top: 2px solid #e0e0e0;
            padding-top: 15px;
            margin-top: 15px;
        }

        .book-now-btn {
            background: linear-gradient(45deg, #51cf66, #40c057);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }

        .book-now-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(81, 207, 102, 0.3);
        }

        .amadeus-guarantee {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            font-size: 0.9rem;
        }

        .amadeus-guarantee i {
            margin-left: 5px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: white;
        }

        .loading i {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .hotel-main {
                grid-template-columns: 1fr;
            }

            .hotel-name {
                font-size: 2rem;
            }

            .swiper {
                height: 250px;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                flex: 1;
                min-width: 120px;
                text-align: center;
            }

            .amenities-grid {
                grid-template-columns: 1fr;
            }

            .reviews-breakdown {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div>
                <div class="logo">
                    <i class="fas fa-plane"></i> Paygo.com
                </div>
            </div>
            <div class="amadeus-badge">
                <i class="fas fa-star"></i>
                مدعوم بـ Amadeus
            </div>
            <a href="javascript:history.back()" class="back-btn">
                <i class="fas fa-arrow-right"></i>
                العودة للنتائج
            </a>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <i class="fas fa-spinner"></i>
            <h3>جاري تحميل تفاصيل الفندق من Amadeus</h3>
            <p>نحضر لك أحدث المعلومات والأسعار...</p>
        </div>

        <!-- Hotel Main Content -->
        <div class="hotel-main" id="hotelMain" style="display: none;">
            <div class="hotel-content">
                <!-- Hotel Gallery -->
                <div class="hotel-gallery">
                    <div class="swiper hotelSwiper">
                        <div class="swiper-wrapper" id="hotelImages">
                            <!-- سيتم ملء الصور هنا بواسطة JavaScript -->
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>

                <!-- Hotel Header -->
                <div class="hotel-header">
                    <h1 class="hotel-name" id="hotelName">برج العرب جميرا</h1>
                    <div class="hotel-location" id="hotelLocation">
                        <i class="fas fa-map-marker-alt"></i>
                        جميرا، دبي • 2.5 كم من المركز
                    </div>
                    <div class="hotel-rating">
                        <div class="stars" id="hotelStars">★★★★★</div>
                        <div class="rating-score" id="ratingScore">9.2</div>
                        <div class="rating-text" id="ratingText">ممتاز (1,250 تقييم)</div>
                    </div>
                    <div class="amadeus-verified">
                        <i class="fas fa-shield-alt"></i>
                        معتمد ومضمون من Amadeus
                    </div>
                </div>

                <!-- Tabs -->
                <div class="tabs">
                    <div class="tab active" onclick="showTab('amenities')">المرافق</div>
                    <div class="tab" onclick="showTab('rooms')">أنواع الغرف</div>
                    <div class="tab" onclick="showTab('reviews')">التقييمات</div>
                    <div class="tab" onclick="showTab('location')">الموقع</div>
                    <div class="tab" onclick="showTab('policies')">السياسات</div>
                </div>

                <!-- Tab Contents -->
                <div id="amenities" class="tab-content active">
                    <h3 style="margin-bottom: 20px; color: #333;">مرافق الفندق</h3>
                    <div class="amenities-grid" id="amenitiesGrid">
                        <!-- سيتم ملء المرافق هنا بواسطة JavaScript -->
                    </div>
                </div>

                <div id="rooms" class="tab-content">
                    <h3 style="margin-bottom: 20px; color: #333;">أنواع الغرف المتاحة</h3>
                    <div class="room-types" id="roomTypes">
                        <!-- سيتم ملء أنواع الغرف هنا بواسطة JavaScript -->
                    </div>
                </div>

                <div id="reviews" class="tab-content">
                    <h3 style="margin-bottom: 20px; color: #333;">تقييمات النزلاء</h3>
                    <div class="reviews-summary">
                        <div class="reviews-header">
                            <div>
                                <div class="reviews-score" id="reviewsScore">9.2</div>
                                <div>ممتاز</div>
                            </div>
                            <div style="text-align: left;">
                                <div id="totalReviews">1,250 تقييم</div>
                                <div style="color: #666; font-size: 0.9rem;">من نزلاء Amadeus</div>
                            </div>
                        </div>
                        <div class="reviews-breakdown">
                            <div class="review-category">
                                <div class="review-category-name">النظافة</div>
                                <div class="review-category-score">9.5</div>
                            </div>
                            <div class="review-category">
                                <div class="review-category-name">الراحة</div>
                                <div class="review-category-score">9.3</div>
                            </div>
                            <div class="review-category">
                                <div class="review-category-name">الموقع</div>
                                <div class="review-category-score">9.0</div>
                            </div>
                            <div class="review-category">
                                <div class="review-category-name">الخدمة</div>
                                <div class="review-category-score">9.4</div>
                            </div>
                            <div class="review-category">
                                <div class="review-category-name">المرافق</div>
                                <div class="review-category-score">9.1</div>
                            </div>
                            <div class="review-category">
                                <div class="review-category-name">القيمة مقابل المال</div>
                                <div class="review-category-score">8.8</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="location" class="tab-content">
                    <h3 style="margin-bottom: 20px; color: #333;">الموقع والمعالم القريبة</h3>
                    <div style="background: #f8f9ff; padding: 20px; border-radius: 15px;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">المعالم القريبة:</h4>
                        <div style="display: grid; gap: 10px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>برج خليفة</span>
                                <span style="color: #666;">15 دقيقة بالسيارة</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>دبي مول</span>
                                <span style="color: #666;">12 دقيقة بالسيارة</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>مطار دبي الدولي</span>
                                <span style="color: #666;">25 دقيقة بالسيارة</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>شاطئ جميرا</span>
                                <span style="color: #666;">5 دقائق مشياً</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="policies" class="tab-content">
                    <h3 style="margin-bottom: 20px; color: #333;">سياسات الفندق</h3>
                    <div style="display: grid; gap: 20px;">
                        <div style="background: #f8f9ff; padding: 20px; border-radius: 15px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">تسجيل الوصول والمغادرة</h4>
                            <p>تسجيل الوصول: 3:00 مساءً</p>
                            <p>تسجيل المغادرة: 12:00 ظهراً</p>
                        </div>
                        <div style="background: #f8f9ff; padding: 20px; border-radius: 15px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">سياسة الإلغاء</h4>
                            <p>إلغاء مجاني حتى 24 ساعة قبل الوصول</p>
                            <p>بعد ذلك يتم خصم تكلفة ليلة واحدة</p>
                        </div>
                        <div style="background: #f8f9ff; padding: 20px; border-radius: 15px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">سياسات إضافية</h4>
                            <p>• يُسمح بالحيوانات الأليفة (رسوم إضافية)</p>
                            <p>• خدمة واي فاي مجانية في جميع أنحاء الفندق</p>
                            <p>• موقف سيارات مجاني</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Booking Card -->
            <div class="booking-card">
                <div class="booking-header">
                    <div class="price-display" id="priceDisplay">2,500</div>
                    <div class="price-period">ريال سعودي / ليلة</div>
                </div>

                <div class="booking-details" id="bookingDetails">
                    <div class="booking-row">
                        <div class="booking-label">
                            <i class="fas fa-calendar-alt"></i>
                            تسجيل الوصول
                        </div>
                        <div class="booking-value" id="checkinDisplay">15 مارس 2025</div>
                    </div>
                    <div class="booking-row">
                        <div class="booking-label">
                            <i class="fas fa-calendar-alt"></i>
                            تسجيل المغادرة
                        </div>
                        <div class="booking-value" id="checkoutDisplay">17 مارس 2025</div>
                    </div>
                    <div class="booking-row">
                        <div class="booking-label">
                            <i class="fas fa-users"></i>
                            عدد النزلاء
                        </div>
                        <div class="booking-value" id="guestsDisplay">2 بالغين</div>
                    </div>
                    <div class="booking-row">
                        <div class="booking-label">
                            <i class="fas fa-moon"></i>
                            عدد الليالي
                        </div>
                        <div class="booking-value" id="nightsDisplay">2 ليلة</div>
                    </div>
                </div>

                <div class="price-breakdown">
                    <div class="price-row">
                        <span>2,500 ريال × 2 ليلة</span>
                        <span id="subtotal">5,000 ريال</span>
                    </div>
                    <div class="price-row">
                        <span>الضرائب والرسوم</span>
                        <span id="taxes">375 ريال</span>
                    </div>
                    <div class="price-row total">
                        <span>المجموع الكلي</span>
                        <span id="totalPrice">5,375 ريال</span>
                    </div>
                </div>

                <button class="book-now-btn" onclick="bookHotel()">
                    احجز الآن مع Amadeus
                </button>

                <div class="amadeus-guarantee">
                    <i class="fas fa-shield-alt"></i>
                    ضمان أفضل سعر من Amadeus
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script>
        // بيانات الفنادق من Amadeus (نفس البيانات من صفحة النتائج)
        const amadeusHotels = {
            'AMADEUS_HOTEL_001': {
                id: 'AMADEUS_HOTEL_001',
                name: 'برج العرب جميرا',
                location: 'جميرا، دبي • 2.5 كم من المركز',
                rating: 5,
                reviewScore: 9.2,
                reviewCount: 1250,
                images: [
                    'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800',
                    'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=800',
                    'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800',
                    'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=800'
                ],
                amenities: [
                    { name: 'واي فاي مجاني', icon: 'fas fa-wifi' },
                    { name: 'مسبح خارجي', icon: 'fas fa-swimming-pool' },
                    { name: 'سبا ومركز صحي', icon: 'fas fa-spa' },
                    { name: 'مطاعم متعددة', icon: 'fas fa-utensils' },
                    { name: 'خدمة الغرف 24/7', icon: 'fas fa-concierge-bell' },
                    { name: 'مركز أعمال', icon: 'fas fa-briefcase' },
                    { name: 'موقف سيارات مجاني', icon: 'fas fa-parking' },
                    { name: 'نادي رياضي', icon: 'fas fa-dumbbell' },
                    { name: 'خدمة النقل', icon: 'fas fa-shuttle-van' },
                    { name: 'خدمة الكونسيرج', icon: 'fas fa-user-tie' },
                    { name: 'غرف اجتماعات', icon: 'fas fa-users' },
                    { name: 'خدمة الغسيل', icon: 'fas fa-tshirt' }
                ],
                roomTypes: [
                    {
                        name: 'جناح ديلوكس مع إطلالة على البحر',
                        features: ['سرير كينغ', 'إطلالة على البحر', 'شرفة خاصة', 'حمام رخامي'],
                        price: 2500
                    },
                    {
                        name: 'جناح رويال مع إطلالة على المدينة',
                        features: ['سرير كينغ', 'إطلالة على المدينة', 'غرفة معيشة منفصلة', 'خدمة بتلر'],
                        price: 3200
                    },
                    {
                        name: 'الجناح الرئاسي',
                        features: ['غرفتي نوم', 'إطلالة بانورامية', 'مطبخ صغير', 'خدمة بتلر خاصة'],
                        price: 5000
                    }
                ],
                pricePerNight: 2500,
                currency: 'SAR',
                amadeusVerified: true
            },
            'AMADEUS_HOTEL_002': {
                id: 'AMADEUS_HOTEL_002',
                name: 'فندق أتلانتس النخلة',
                location: 'نخلة جميرا، دبي • 8.2 كم من المركز',
                rating: 5,
                reviewScore: 8.9,
                reviewCount: 2100,
                images: [
                    'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=800',
                    'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800',
                    'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800'
                ],
                amenities: [
                    { name: 'حديقة مائية', icon: 'fas fa-water' },
                    { name: 'أكواريوم', icon: 'fas fa-fish' },
                    { name: 'مسبح', icon: 'fas fa-swimming-pool' },
                    { name: 'سبا', icon: 'fas fa-spa' },
                    { name: 'مطاعم متعددة', icon: 'fas fa-utensils' },
                    { name: 'شاطئ خاص', icon: 'fas fa-umbrella-beach' }
                ],
                roomTypes: [
                    {
                        name: 'غرفة ديلوكس مع إطلالة على البحر',
                        features: ['سرير كينغ', 'إطلالة على البحر', 'شرفة'],
                        price: 1800
                    }
                ],
                pricePerNight: 1800,
                currency: 'SAR',
                amadeusVerified: true
            }
        };

        // استخراج معاملات URL
        function getUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            return {
                hotelId: urlParams.get('hotel') || 'AMADEUS_HOTEL_001',
                city: urlParams.get('city') || 'DXB',
                checkin: urlParams.get('checkin') || '2025-03-15',
                checkout: urlParams.get('checkout') || '2025-03-17',
                adults: urlParams.get('adults') || '2'
            };
        }

        // تحميل تفاصيل الفندق
        async function loadHotelDetails() {
            const params = getUrlParams();
            const hotel = amadeusHotels[params.hotelId];
            
            if (!hotel) {
                alert('الفندق غير موجود');
                history.back();
                return;
            }

            // عرض شاشة التحميل
            document.getElementById('loading').style.display = 'block';
            document.getElementById('hotelMain').style.display = 'none';

            try {
                // محاكاة تأخير API
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // ملء بيانات الفندق
                displayHotelDetails(hotel, params);
                
                // إخفاء شاشة التحميل وعرض المحتوى
                document.getElementById('loading').style.display = 'none';
                document.getElementById('hotelMain').style.display = 'grid';
                
                // تهيئة معرض الصور
                initializeSwiper();
                
            } catch (error) {
                console.error('Error loading hotel details:', error);
                alert('حدث خطأ في تحميل تفاصيل الفندق');
                history.back();
            }
        }

        // عرض تفاصيل الفندق
        function displayHotelDetails(hotel, params) {
            // معلومات الفندق الأساسية
            document.getElementById('hotelName').textContent = hotel.name;
            document.getElementById('hotelLocation').innerHTML = `
                <i class="fas fa-map-marker-alt"></i>
                ${hotel.location}
            `;
            document.getElementById('hotelStars').textContent = '★'.repeat(hotel.rating) + '☆'.repeat(5-hotel.rating);
            document.getElementById('ratingScore').textContent = hotel.reviewScore;
            document.getElementById('ratingText').textContent = `ممتاز (${hotel.reviewCount.toLocaleString()} تقييم)`;

            // صور الفندق
            const imagesContainer = document.getElementById('hotelImages');
            imagesContainer.innerHTML = hotel.images.map(image => `
                <div class="swiper-slide">
                    <img src="${image}" alt="${hotel.name}" 
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDgwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjBGMEYwIi8+CjxwYXRoIGQ9Ik0zNTAgMTUwSDQ1MFYyNTBIMzUwVjE1MFoiIGZpbGw9IiNEMEQwRDAiLz4KPHA+dGV4dCB4PSI0MDAiIHk9IjMwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzk5OSIgZm9udC1zaXplPSIyMCI+2LXZiNix2Kkg2LrZitixINmF2KrYp9it2Kk8L3RleHQ+Cjwvc3ZnPgo='">
                </div>
            `).join('');

            // المرافق
            const amenitiesGrid = document.getElementById('amenitiesGrid');
            amenitiesGrid.innerHTML = hotel.amenities.map(amenity => `
                <div class="amenity-item">
                    <i class="${amenity.icon}"></i>
                    ${amenity.name}
                </div>
            `).join('');

            // أنواع الغرف
            const roomTypes = document.getElementById('roomTypes');
            roomTypes.innerHTML = hotel.roomTypes.map(room => `
                <div class="room-type">
                    <div class="room-name">${room.name}</div>
                    <div class="room-features">
                        ${room.features.map(feature => `<span class="room-feature">${feature}</span>`).join('')}
                    </div>
                    <div class="room-price">${room.price.toLocaleString()} ريال / ليلة</div>
                </div>
            `).join('');

            // معلومات الحجز
            displayBookingInfo(hotel, params);
        }

        // عرض معلومات الحجز
        function displayBookingInfo(hotel, params) {
            const checkinDate = new Date(params.checkin);
            const checkoutDate = new Date(params.checkout);
            const nights = Math.ceil((checkoutDate - checkinDate) / (1000 * 60 * 60 * 24));
            
            document.getElementById('priceDisplay').textContent = hotel.pricePerNight.toLocaleString();
            document.getElementById('checkinDisplay').textContent = formatDate(params.checkin);
            document.getElementById('checkoutDisplay').textContent = formatDate(params.checkout);
            document.getElementById('guestsDisplay').textContent = params.adults + ' ' + (params.adults == '1' ? 'بالغ' : 'بالغين');
            document.getElementById('nightsDisplay').textContent = nights + ' ' + (nights == 1 ? 'ليلة' : 'ليلة');

            // حساب الأسعار
            const subtotal = hotel.pricePerNight * nights;
            const taxes = Math.round(subtotal * 0.075); // 7.5% ضرائب
            const total = subtotal + taxes;

            document.getElementById('subtotal').textContent = subtotal.toLocaleString() + ' ريال';
            document.getElementById('taxes').textContent = taxes.toLocaleString() + ' ريال';
            document.getElementById('totalPrice').textContent = total.toLocaleString() + ' ريال';
        }

        // تنسيق التاريخ
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ar-SA', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // تهيئة معرض الصور
        function initializeSwiper() {
            new Swiper('.hotelSwiper', {
                slidesPerView: 1,
                spaceBetween: 0,
                loop: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
            });
        }

        // التبديل بين التبويبات
        function showTab(tabName) {
            // إخفاء جميع التبويبات
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // عرض التبويب المحدد
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // حجز الفندق
        function bookHotel() {
            const params = getUrlParams();
            const hotel = amadeusHotels[params.hotelId];
            
            if (hotel) {
                const checkinDate = new Date(params.checkin);
                const checkoutDate = new Date(params.checkout);
                const nights = Math.ceil((checkoutDate - checkinDate) / (1000 * 60 * 60 * 24));
                const total = (hotel.pricePerNight * nights) + Math.round((hotel.pricePerNight * nights) * 0.075);
                
                alert(`تأكيد الحجز مع Amadeus:\n\n` +
                      `الفندق: ${hotel.name}\n` +
                      `التواريخ: ${formatDate(params.checkin)} - ${formatDate(params.checkout)}\n` +
                      `عدد الليالي: ${nights}\n` +
                      `عدد النزلاء: ${params.adults}\n` +
                      `المجموع: ${total.toLocaleString()} ريال\n\n` +
                      `هذه نسخة تجريبية - في التطبيق الحقيقي سيتم التكامل مع نظام الدفع الآمن لـ Amadeus.`);
                
                // في التطبيق الحقيقي، سيتم إرسال طلب الحجز لـ Amadeus API
                console.log('Amadeus Booking Request:', {
                    hotelId: params.hotelId,
                    hotel: hotel,
                    bookingDetails: {
                        checkin: params.checkin,
                        checkout: params.checkout,
                        adults: params.adults,
                        nights: nights,
                        totalPrice: total
                    }
                });
            }
        }

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            loadHotelDetails();
            
            console.log('Amadeus Hotel Details Page loaded successfully!');
            console.log('URL params:', getUrlParams());
        });

        // تتبع الأحداث
        function trackEvent(eventName, eventData) {
            console.log('Analytics Event:', eventName, eventData);
        }

        // تتبع عرض تفاصيل الفندق
        window.addEventListener('load', function() {
            const params = getUrlParams();
            trackEvent('hotel_details_viewed', {
                hotelId: params.hotelId,
                searchParams: params,
                provider: 'Amadeus'
            });
        });
    </script>
</body>
</html>

